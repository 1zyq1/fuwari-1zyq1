---
import MainGridLayout from "@layouts/MainGridLayout.astro";
import { Icon } from "astro-icon/components";
import Giscus from "@components/misc/Giscus.astro";

// 友链数据
const friends = [
    {
        name: "Harfrp",
        url: "https://www.hayfrp.com",
        icon: "https://console.hayfrp.com/favicon.ico",
        description: "和谐网络科技工作室旗下的公益Frp"
    },
    {
        name: "THW's Blog",
        url: "https://blog.tianhw.top",
        icon: "https://image.tianhw.top/avatar.webp",
        description: "前途似海，来日方长"
    },
    {
        name: "AcoFork Blog",
        url: "https://blog.acofork.com",
        icon: "https://q2.qlogo.cn/headimg_dl?dst_uin=2726730791&spec=0",
        description: "Protect What You Love."
    }
];
---

<MainGridLayout title="友链">
    <div class="card-base p-6 md:p-8">
        <div class="flex items-center gap-2 mb-6">
            <div class="h-8 w-8 rounded-lg bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70">
                <Icon name="material-symbols:diversity-3" class="text-[1.5rem]">
            </div>
            <h1 class="text-2xl font-bold text-black dark:text-white">友链</h1>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {friends.map(friend => (
                <a href={friend.url} target="_blank" class="friend-card">
                    <div class="flex items-center gap-2">
                        <img src={friend.icon} loading="lazy" class="w-5 h-5 rounded">
                        <div class="font-bold text-black dark:text-white">{friend.name}</div>
                    </div>
                    <div class="text-sm text-white">{friend.description}</div>
                </a>
            ))}
        </div>

    <!-- 置顶公告 -->
    <div class="mt-8 p-4 rounded-lg bg-[var(--card-bg)] border border-[var(--border-color)]">
        <div class="flex items-center gap-2 mb-2">
            <div class="h-6 w-6 rounded bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70">
                <Icon name="material-symbols:push-pin" class="text-[1rem]">
            </div>
            <h2 class="text-lg font-bold text-black dark:text-white">置顶公告</h2>
        </div>
        <div class="text-sm text-black/80 dark:text-white/80">
            <p>欢迎来到我的友链页面！如果您想交换友链，请在评论区留言，格式如下：</p>
            </ul>
        </div>
    </div>

    <!-- 评论区 -->
    <div class="mt-8">
        <Giscus
            repo="1zyq1/fuwari-comments"
            repoId="R_kgDOP906uQ"
            category="Announcements"
            categoryId="DIC_kwDOP906uc4CwWb4"
        />
    </div>

</MainGridLayout>

<style>
    :root {
        --primary: #3b82f6;
        --card-bg: #ffffff;
        --btn-regular-bg-hover: #f1f5f9;
        --btn-regular-bg-active: #e2e8f0;
        --btn-content: #1e293b;
        --border-color: #e5e7eb;
    }

    [data-theme="dark"] {
        --card-bg: #1e293b;
        --btn-regular-bg-hover: #334155;
        --btn-regular-bg-active: #475569;
        --btn-content: #f1f5f9;
        --border-color: #374151;
    }

    .friend-card {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        padding: 1rem;
        border-radius: 0.5rem;
        background-color: var(--card-bg);
        border: 1px solid var(--border-color);
        transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none;
    }
    
    .friend-card:active {
        transform: scale(0.98);
        background-color: var(--btn-regular-bg-active);
    }
    
    .friend-card:hover {
        background-color: var(--btn-regular-bg-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .friend-card:hover .font-bold {
        color: var(--btn-content);
    }
    
    .friend-card:hover .text-sm {
        color: #374151;
    }

    [data-theme="dark"] .friend-card:hover .text-sm {
        color: #f9fafb;
    }

    .friend-card .font-bold,
    .friend-card .text-sm {
        transition: color 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
        .card-base {
            padding: 1rem;
        }
        
        .friend-card {
            padding: 0.75rem;
        }
    }
</style>